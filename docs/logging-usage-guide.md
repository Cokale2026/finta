# Finta æ—¥å¿—ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## åŠŸèƒ½æ¦‚è§ˆ

Finta ç°åœ¨æ‹¥æœ‰å®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿï¼Œè®©ä½ èƒ½å¤Ÿæ¸…æ¥šåœ°çœ‹åˆ° Agent çš„æ¯ä¸€æ­¥æ‰§è¡Œè¿‡ç¨‹ï¼

### âœ¨ æ–°å¢åŠŸèƒ½

- ğŸ¨ **å½©è‰²è¾“å‡º** - ä¸åŒç±»å‹çš„æ—¥å¿—ä½¿ç”¨ä¸åŒé¢œè‰²ï¼Œæ˜“äºåŒºåˆ†
- ğŸ“Š **ç»“æ„åŒ–å±•ç¤º** - å·¥å…·è°ƒç”¨ã€æ‰§è¡Œç»“æœã€Agent å“åº”éƒ½æœ‰æ¸…æ™°çš„æ ¼å¼
- â±ï¸ **æ€§èƒ½æŒ‡æ ‡** - æ˜¾ç¤ºæ¯ä¸ªå·¥å…·çš„æ‰§è¡Œæ—¶é—´å’Œæ€»ä¼šè¯ç»Ÿè®¡
- ğŸ” **è°ƒè¯•æ¨¡å¼** - `--verbose` å‚æ•°æŸ¥çœ‹æ‰€æœ‰ç»†èŠ‚
- ğŸ“ **æ— é¢œè‰²æ¨¡å¼** - `--no-color` é€‚åˆä¿å­˜æ—¥å¿—åˆ°æ–‡ä»¶

## å¿«é€Ÿå¼€å§‹

### 1. æ„å»ºé¡¹ç›®

```bash
go build -o finta cmd/finta/main.go
```

### 2. åŸºæœ¬ä½¿ç”¨

```bash
# æ™®é€šæ¨¡å¼ - æ˜¾ç¤ºé‡è¦ä¿¡æ¯
./finta chat "List files in current directory"

# è¯¦ç»†æ¨¡å¼ - æ˜¾ç¤ºæ‰€æœ‰è°ƒè¯•ä¿¡æ¯
./finta chat --verbose "Read the go.mod file"

# æ— é¢œè‰²æ¨¡å¼ - é€‚åˆä¿å­˜åˆ°æ–‡ä»¶
./finta chat --no-color "Check if there are .go files" > log.txt
```

## è¾“å‡ºç¤ºä¾‹

### æ™®é€šæ¨¡å¼è¾“å‡º

å½“ä½ è¿è¡Œ `./finta chat "List files"` æ—¶ï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ Session Started
  List files in current directory
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

15:30:45 [INFO] Registered 2 tools: read, bash
15:30:45 [INFO] Turn 1: Calling LLM...

ğŸ”§ Tool Call: bash
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{"command": "ls -la"}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“Š Tool Result: bash [âœ… Success] (234ms)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
total 48
drwxr-xr-x  6 user user 4096 Dec 20 15:30 .
drwxr-xr-x 20 user user 4096 Dec 20 15:25 ..
-rw-r--r--  1 user user  156 Dec 20 15:20 go.mod
-rw-r--r--  1 user user  892 Dec 20 15:22 go.sum
drwxr-xr-x  3 user user 4096 Dec 20 15:30 cmd
drwxr-xr-x  8 user user 4096 Dec 20 15:30 internal
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

15:30:46 [INFO] Turn 2: Calling LLM...

ğŸ’¬ Agent Response
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
I've listed the files in the current directory. Here's what I found:

The directory contains:
- `go.mod` and `go.sum`: Go module files
- `cmd/`: Directory containing command-line applications
- `internal/`: Directory containing internal package code

This appears to be a Go project with a standard project structure.
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ¨ Session Completed
  Duration: 1.234s | Tool Calls: 1
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Verbose æ¨¡å¼è¾“å‡º

ä½¿ç”¨ `--verbose` å‚æ•°æ—¶ï¼Œä½ ä¼šé¢å¤–çœ‹åˆ°ï¼š

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ Session Started
  Your task here
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

15:30:45 [DEBUG] Creating LLM client (model: gpt-4-turbo)
15:30:45 [DEBUG] Registering built-in tools
15:30:45 [INFO] Registered 2 tools: read, bash
15:30:45 [DEBUG] Agent created with max_turns=10, temperature=0.70
15:30:45 [INFO] Turn 1: Calling LLM...

... æ‰§è¡Œè¿‡ç¨‹ ...

15:30:46 [DEBUG] Agent completed successfully
```

## å‘½ä»¤è¡Œå‚æ•°

### æ—¥å¿—ç›¸å…³å‚æ•°

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `--verbose` | false | å¯ç”¨è¯¦ç»†æ¨¡å¼ï¼Œæ˜¾ç¤ºæ‰€æœ‰è°ƒè¯•ä¿¡æ¯ |
| `--no-color` | false | ç¦ç”¨å½©è‰²è¾“å‡ºï¼Œé€‚åˆä¿å­˜åˆ°æ–‡ä»¶ |

### å…¶ä»–å‚æ•°

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `--api-key` | OPENAI_API_KEY | OpenAI API å¯†é’¥ |
| `--api-base-url` | OPENAI_API_BASE_URL | OpenAI API åŸºç¡€ URL |
| `--model` | gpt-4-turbo | ä½¿ç”¨çš„æ¨¡å‹ |
| `--temperature` | 0.7 | æ¸©åº¦å‚æ•° |
| `--max-turns` | 10 | æœ€å¤§å¯¹è¯è½®æ•° |

## æ—¥å¿—çº§åˆ«è¯´æ˜

### Debugï¼ˆè°ƒè¯•ï¼‰
- **é¢œè‰²**: ç°è‰²
- **æ˜¾ç¤ºæ¡ä»¶**: ä»…åœ¨ `--verbose` æ¨¡å¼
- **å†…å®¹**: LLM å®¢æˆ·ç«¯åˆ›å»ºã€å·¥å…·æ³¨å†Œã€Agent é…ç½®ç­‰å†…éƒ¨æ“ä½œ

### Infoï¼ˆä¿¡æ¯ï¼‰
- **é¢œè‰²**: è“è‰²
- **æ˜¾ç¤ºæ¡ä»¶**: é»˜è®¤æ˜¾ç¤º
- **å†…å®¹**: Turn X å¼€å§‹ã€æ‰§è¡Œ N ä¸ªå·¥å…·ã€å·¥å…·æ³¨å†Œæ•°é‡ç­‰é‡è¦æ­¥éª¤

### Tool Callï¼ˆå·¥å…·è°ƒç”¨ï¼‰
- **é¢œè‰²**: é’è‰²
- **æ˜¾ç¤ºæ¡ä»¶**: é»˜è®¤æ˜¾ç¤º
- **å†…å®¹**:
  - ğŸ”§ å·¥å…·è°ƒç”¨ - å·¥å…·åç§°å’Œå‚æ•°ï¼ˆJSON æ ¼å¼ï¼‰
  - ğŸ“Š å·¥å…·ç»“æœ - æˆåŠŸ/å¤±è´¥çŠ¶æ€ã€è¾“å‡ºã€æ‰§è¡Œæ—¶é—´

### Agent Responseï¼ˆAgent å“åº”ï¼‰
- **é¢œè‰²**: ç»¿è‰²
- **æ˜¾ç¤ºæ¡ä»¶**: é»˜è®¤æ˜¾ç¤º
- **å†…å®¹**: ğŸ’¬ Agent çš„æœ€ç»ˆå›ç­”

### Errorï¼ˆé”™è¯¯ï¼‰
- **é¢œè‰²**: çº¢è‰²
- **æ˜¾ç¤ºæ¡ä»¶**: æ€»æ˜¯æ˜¾ç¤º
- **å†…å®¹**: LLM è°ƒç”¨å¤±è´¥ã€å·¥å…·æ‰§è¡Œå¤±è´¥ç­‰é”™è¯¯ä¿¡æ¯

## ä½¿ç”¨åœºæ™¯

### 1. æ—¥å¸¸ä½¿ç”¨

```bash
# æ™®é€šæ¨¡å¼å·²ç»è¶³å¤Ÿï¼Œæ˜¾ç¤ºæ‰€æœ‰é‡è¦ä¿¡æ¯
./finta chat "Your task here"
```

### 2. è°ƒè¯•é—®é¢˜

```bash
# ä½¿ç”¨ verbose æ¨¡å¼æŸ¥çœ‹æ‰€æœ‰ç»†èŠ‚
./finta chat --verbose "Your task here"
```

### 3. ä¿å­˜æ—¥å¿—

```bash
# æ— é¢œè‰²æ¨¡å¼é€‚åˆä¿å­˜åˆ°æ–‡ä»¶
./finta chat --no-color "Your task here" > agent.log

# åŒæ—¶ä¿å­˜åˆ°æ–‡ä»¶å’Œæ˜¾ç¤ºåˆ°ç»ˆç«¯
./finta chat --no-color "Your task here" 2>&1 | tee agent.log
```

### 4. CI/CD ç¯å¢ƒ

```bash
# åœ¨ CI ç¯å¢ƒä¸­ä½¿ç”¨æ— é¢œè‰²æ¨¡å¼
./finta chat --no-color --verbose "Run tests and report" > ci-log.txt
```

## JSON æ ¼å¼åŒ–

å·¥å…·è°ƒç”¨å‚æ•°ä¼šæ ¹æ®é•¿åº¦è‡ªåŠ¨æ ¼å¼åŒ–ï¼š

### çŸ­ JSONï¼ˆ< 80 å­—ç¬¦ï¼‰- å•è¡Œæ˜¾ç¤º

```
{"command": "ls"}
```

### é•¿ JSONï¼ˆ>= 80 å­—ç¬¦ï¼‰- ç¾åŒ–æ˜¾ç¤º

```json
{
  "file_path": "/very/long/path/to/some/file.txt",
  "content": "Very long content here...",
  "options": {
    "create_dirs": true
  }
}
```

## æ€§èƒ½æŒ‡æ ‡

æ¯æ¬¡ä¼šè¯ç»“æŸæ—¶ï¼Œä½ ä¼šçœ‹åˆ°ç»Ÿè®¡ä¿¡æ¯ï¼š

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ¨ Session Completed
  Duration: 1.234s | Tool Calls: 3
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

- **Duration**: ä»ä¼šè¯å¼€å§‹åˆ°ç»“æŸçš„æ€»æ—¶é—´
- **Tool Calls**: æ‰§è¡Œçš„å·¥å…·è°ƒç”¨æ€»æ•°

æ¯ä¸ªå·¥å…·è°ƒç”¨ä¹Ÿä¼šæ˜¾ç¤ºæ‰§è¡Œæ—¶é—´ï¼š

```
ğŸ“Š Tool Result: bash [âœ… Success] (234ms)
```

## æ•…éšœæ’æŸ¥

### é—®é¢˜: å½©è‰²è¾“å‡ºæ˜¾ç¤ºä¹±ç 

**è§£å†³**: ä½¿ç”¨ `--no-color` å‚æ•°

```bash
./finta chat --no-color "Your task"
```

### é—®é¢˜: çœ‹ä¸åˆ°è°ƒè¯•ä¿¡æ¯

**è§£å†³**: æ·»åŠ  `--verbose` å‚æ•°

```bash
./finta chat --verbose "Your task"
```

### é—®é¢˜: è¾“å‡ºå¤ªå¤šä¿¡æ¯

**è§£å†³**: ç§»é™¤ `--verbose` å‚æ•°ï¼Œä½¿ç”¨é»˜è®¤çš„ Info çº§åˆ«

```bash
./finta chat "Your task"
```

## å¼€å‘è€…ä½¿ç”¨

### åœ¨ä»£ç ä¸­ä½¿ç”¨ Logger

```go
import "finta/internal/logger"

// åˆ›å»º logger
log := logger.NewLogger(os.Stdout, logger.LevelInfo)

// åŸºç¡€æ—¥å¿—
log.Debug("Debug message: %v", data)
log.Info("Info message: %s", info)
log.Error("Error: %v", err)

// Agent ä¸“ç”¨æ—¥å¿—
log.AgentResponse("Agent's answer here")
log.ToolCall("bash", `{"command": "ls"}`)
log.ToolResult("bash", true, "output", 100*time.Millisecond)

// ä¼šè¯ç®¡ç†
log.SessionStart("Task description")
log.SessionEnd(duration, toolCallCount)
```

### è‡ªå®šä¹‰æ—¥å¿—çº§åˆ«

```go
// åªæ˜¾ç¤ºé”™è¯¯
log := logger.NewLogger(os.Stdout, logger.LevelError)

// æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ï¼ˆåŒ…æ‹¬ Debugï¼‰
log := logger.NewLogger(os.Stdout, logger.LevelDebug)

// åªæ˜¾ç¤ºå·¥å…·ç›¸å…³
log := logger.NewLogger(os.Stdout, logger.LevelTool)
```

### ç¦ç”¨é¢œè‰²

```go
log := logger.NewLogger(os.Stdout, logger.LevelInfo)
log.SetColorMode(false)  // ç¦ç”¨é¢œè‰²
```

## ä¸ plans.md å¯¹ç…§

è¿™ä¸ªå®ç°å®Œå…¨éµå¾ªäº† `plans.md` ä¸­ Phase 1 çš„è®¾è®¡ï¼š

âœ… **å†…ç½®åŠŸèƒ½**:
- åˆ†çº§æ—¥å¿—ç³»ç»Ÿï¼ˆDebug, Info, Tool, Agent, Errorï¼‰
- å½©è‰² ANSI è¾“å‡º
- ç»“æ„åŒ–å±•ç¤ºï¼ˆä¼šè¯ã€å·¥å…·è°ƒç”¨ã€ç»“æœã€å“åº”ï¼‰
- æ€§èƒ½æŒ‡æ ‡ï¼ˆæ—¶é—´ã€è®¡æ•°ï¼‰
- CLI é›†æˆï¼ˆ--verbose, --no-colorï¼‰

âœ… **ç”¨æˆ·åå¥½**:
- é»˜è®¤æ—¥å¿—çº§åˆ«ï¼šInfo âœ…
- è¾“å‡ºç›®æ ‡ï¼šä»…ç»ˆç«¯ âœ…
- JSON æ ¼å¼åŒ–ï¼šè‡ªé€‚åº”ï¼ˆ< 80 å­—ç¬¦å•è¡Œï¼Œ>= 80 å­—ç¬¦ç¾åŒ–ï¼‰âœ…

## ä¸‹ä¸€æ­¥

ç°åœ¨ä½ å¯ä»¥ï¼š

1. **è¿è¡Œæµ‹è¯•** - ä½¿ç”¨å®é™…çš„ OpenAI API key æµ‹è¯•
2. **è§‚å¯Ÿæ‰§è¡Œ** - çœ‹åˆ° Agent çš„å®Œæ•´æ‰§è¡Œè¿‡ç¨‹
3. **è°ƒè¯•é—®é¢˜** - ä½¿ç”¨ verbose æ¨¡å¼æ’æŸ¥é”™è¯¯
4. **ä¿å­˜æ—¥å¿—** - è®°å½• Agent çš„è¡Œä¸ºä»¥ä¾›åˆ†æ

äº«å— Finta çš„å…¨æ–°æ—¥å¿—ä½“éªŒï¼ğŸ‰
